对于萌新服主，这个插件请务必在开服，也就是刚刚开新周目的新地图时候就装上！！！不要在开荒开一半的时候装上！！！这样会导致玩家放的箱子也变成
战利品箱，所有玩家都可以获取一份。
对于有经验的服主，可以自行修改数据库内内容以及使用/ppltoggle来将地图战利品箱改成你希望的样子
还有出问题别找我.jpg             -------肝帝熙恩




这是一个用于TShock服务器的插件，使自然生成的战利品箱拥有服务器上每个玩家单独的库存。每个发现箱子的玩家都可以单独获取其中的物品，即使之前已经有其他人打开过。

Terraria的多人游戏存在一个大问题——你所在的世界是有限的，可供获取的物品和资源也是有限的。
当你和朋友开始在一个新的世界上游玩时，选择前往地表探险或洞穴的少数人很可能会找到大部分的箱子，因此会获得大部分早期游戏的战利品。
在专家或大师模式中，这不是一个问题，因为Boss们会为每个对其造成伤害的玩家掉落一个战利品袋，每个人都可以获得。
这个插件使得运行大型Terraria多人服务器变得更加可行，因为探索和挖掘始终有吸引力——战利品仍然存在，等待着你去发现！

安装
将PerPlayerLoot.dll复制到TShock服务器的ServerPlugins目录中。
从头开始启动一个新的世界（是的，这很重要，请参阅下文）并开始游戏！


工作原理
该插件旨在在箱子交互时不修改服务器端的箱子状态（Terraria.Main.chest），希望尽可能少地破坏世界保存数据。
它通过拦截ChestPlace、ChestOpen和ChestItem数据包，并通过从内部数据库发送精心制作的ChestItem数据包来伪造战利品箱的内容。
每次保存世界时，玩家的个人战利品数据都会写入到SQLite文件perplayerloot.sqlite中，同时还会列出所有玩家放置的箱子的X和Y坐标。如果您放置的玩家箱子不在排除列表中，它们将被视为世界生成的战利品箱。
这意味着为了不受玩家放置的箱子影响，您需要从服务器开始就安装插件。如果您在游戏进行中安装它，世界中的所有箱子都将被视为生成的箱子，并且其库存内容会为每个玩家复制。
唯一会修改Main.chest数组的情况是可能会破坏的战利品箱（这种情况应该很少发生）。在这种情况下，Main.chest中的真实箱子的物品会被清空。

调试命令
/ppltoggle - 全局切换插件数据包挂钩。警告：使用此命令不受支持，可能导致Main.chest数组和内部插件状态的不同步。
仅供调试使用！在禁用状态下，您放置的任何箱子都将变成战利品箱，并且访问的任何箱子库存都将是其真实库存，而不是每个玩家的实例化库存！